type Query {
  loadTest: LoadTest
  blockStatHistory: BlockStatHistory!
  ecBalance: Int!
}

type Mutation {
  login(name: String!, password: String!): String!
  startTest(loadConfig: LoadConfigInput!): LoadTest!
  stopTest: LoadTest
}

type Subscription {
  loadTestChanged: LoadTest!
  blockStatHistoryChanged: BlockStatHistory!
  ecBalanceChanged: Int!
}

###########

input LoadConfigInput {
  eps: Float!
  nbOfChains: Int!
  entrySize: Int
}

###########

type LoadTest {
  id: String!
  events: [LoadTestEvent!]!
  generator: Generator!
}

type LoadTestEvent {
  user: String!
  type: String!
  timestamp: Int!
}

type Generator {
  config: LoadConfig!
  data: GeneratorData!
}

type LoadConfig {
  eps: Float!
  nbOfChains: Int!
  entrySize: Int!
}

type GeneratorData {
  chainIds: [String!]!
  ecAddress: String!
}

type BlockStatHistory {
  currentBlockStartTime: Int!
  history: [BlockStat!]!
}

type BlockStat {
  height: Int!
  timestamp: Int!
  entryCount: Int!
  hasElection: Boolean!
}
